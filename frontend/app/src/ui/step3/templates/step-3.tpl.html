<div id="step-3" class="col-xs-12 no-padding" ng-init="event.onLoad()">
    <fieldset>
        <div class="well">
            <div class="row margin-bottom-15">
                <div class="col-xs-3">
                    <label class="has-tooltip"
                           tooltip-placement="right"
                           tooltip-append-to-body="true"
                           uib-tooltip="Countries in which you are covered whith this health insurance plan.
                           The more you reduce the area of cover, the cheaper the insurance price generally gets!">
                        Area of cover
                    </label>
                    <div uib-dropdown>
                        <div class="input-group" uib-dropdown-toggle>
                            <span class="form-control">{{data.filter.masterAreaOfCoverObject.master_area_name}}</span>
                            <div class="input-group-addon"><span class="caret"></span></div>
                        </div>
                        <div class="list-group no-padding no-margin" uib-dropdown-menu style="width:200px">
                            <a href="javascript:void(0);"
                               class="list-group-item"
                               key-navigate-directive
                               ng-click="data.filter.masterAreaOfCoverObject = item; fn.beforeFilter()"
                               ng-class="{'active': item.master_area_id === data.filter.masterAreaOfCoverObject.master_area_id}"
                               ng-repeat="item in data.masterAreaOfCover">{{item.master_area_name}}</a>
                        </div>
                    </div>
                </div>
                <div class="col-xs-3">
                    <label class="has-tooltip"
                           tooltip-placement="right"
                           tooltip-append-to-body="true"
                           uib-tooltip="Outpatient cover describes medical care or treatment that does not require an overnight
                           stay in a hospital or medical facility.">
                        Outpatient cover
                    </label>
                    <div uib-dropdown>
                        <div class="input-group" uib-dropdown-toggle>
                            <span class="form-control">{{data.filter.outpatientCover === 1 ? 'Required' : 'Not required'}}</span>
                            <div class="input-group-addon"><span class="caret"></span></div>
                        </div>
                        <div class="list-group no-padding no-margin" uib-dropdown-menu>
                            <a href="javascript:void(0);"
                               class="list-group-item"
                               key-navigate-directive
                               ng-click="data.filter.outpatientCover = item.key; fn.beforeFilter()"
                               ng-class="{'active': item.key === data.filter.outpatientCover}"
                               ng-repeat="item in data.options">{{item.value}}</a>
                        </div>
                    </div>
                </div>
                <div class="col-xs-3">
                    <label class="has-tooltip"
                           tooltip-placement="right"
                           tooltip-append-to-body="true"
                           uib-tooltip="Dental insurance is designed to pay a portion of the costs incurred by dental care.">
                        Dental cover
                    </label>
                    <div uib-dropdown>
                        <div class="input-group" uib-dropdown-toggle>
                            <span class="form-control">{{data.filter.dentalCover === 1 ? 'Required' : 'Not required'}}</span>
                            <div class="input-group-addon"><span class="caret"></span></div>
                        </div>
                        <div class="list-group no-padding no-margin" uib-dropdown-menu>
                            <a href="javascript:void(0);"
                               class="list-group-item"
                               key-navigate-directive
                               ng-click="data.filter.dentalCover = item.key; fn.beforeFilter()"
                               ng-class="{'active': item.key === data.filter.dentalCover}"
                               ng-repeat="item in data.options">{{item.value}}</a>
                        </div>
                    </div>
                </div>
                <div class="col-xs-3">
                    <label class="has-tooltip"
                           tooltip-placement="right"
                           tooltip-append-to-body="true"
                           uib-tooltip="An excess is a contribution you are required to pay towards a claim you
                           make on your health insurance policy. If you voluntarily increase your excess
                           (see filter to the top-right of the page), you annual premium will be cheaper!">
                        Excess
                    </label>
                    <div uib-dropdown>
                        <div class="input-group" uib-dropdown-toggle>
                            <span class="form-control">{{data.excess.value}}</span>
                            <div class="input-group-addon"><span class="caret"></span></div>
                        </div>
                        <div class="list-group no-padding no-margin" uib-dropdown-menu>
                            <a href="javascript:void(0);"
                               class="list-group-item"
                               key-navigate-directive
                               ng-click="data.excess = item; fn.beforeFilter()"
                               ng-class="{'active': item.key === data.excess.key}"
                               ng-repeat="item in data.excessList">{{item.value}}</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row margin-bottom-15">
                <div class="col-xs-3"></div>
                <div class="col-xs-3">
                    <label class="has-tooltip"
                           tooltip-placement="right"
                           tooltip-append-to-body="true"
                           uib-tooltip="Insurance related to pregnancy, labor, delivery, and newborn baby care.">
                        Maternity cover
                    </label>
                    <div uib-dropdown>
                        <div class="input-group" uib-dropdown-toggle>
                            <span class="form-control">{{data.filter.maternityCover === 1 ? 'Required' : 'Not required'}}</span>
                            <div class="input-group-addon"><span class="caret"></span></div>
                        </div>
                        <div class="list-group no-padding no-margin" uib-dropdown-menu>
                            <a href="javascript:void(0);"
                               class="list-group-item"
                               key-navigate-directive
                               ng-click="data.filter.maternityCover = item.key; fn.beforeFilter()"
                               ng-class="{'active': item.key === data.filter.maternityCover}"
                               ng-repeat="item in data.options">{{item.value}}</a>
                        </div>
                    </div>
                </div>
                <div class="col-xs-3">
                    <label class="has-tooltip"
                           tooltip-placement="right"
                           tooltip-append-to-body="true"
                           uib-tooltip="Cover for vision care, such as eye examination, and vision aids, such as glasses or contacts.">
                        Optical cover
                    </label>
                    <div uib-dropdown>
                        <div class="input-group" uib-dropdown-toggle>
                            <span class="form-control">{{data.filter.opticalCover === 1 ? 'Required' : 'Not required'}}</span>
                            <div class="input-group-addon"><span class="caret"></span></div>
                        </div>
                        <div class="list-group no-padding no-margin" uib-dropdown-menu>
                            <a href="javascript:void(0);"
                               class="list-group-item"
                               key-navigate-directive
                               ng-click="data.filter.opticalCover = item.key; fn.beforeFilter()"
                               ng-class="{'active': item.key === data.filter.opticalCover}"
                               ng-repeat="item in data.options">{{item.value}}</a>
                        </div>
                    </div>
                </div>
                <div class="col-xs-3">
                    <label class="has-tooltip"
                           tooltip-placement="right"
                           tooltip-append-to-body="true"
                           uib-tooltip="Maximum amount your plan will cover for. Reducing this amount will reduce the price of your plan!">
                        Maximum cover
                    </label>
                    <div uib-dropdown>
                        <div class="input-group" uib-dropdown-toggle>
                            <span class="form-control">{{data.maximumCover.value}}</span>
                            <div class="input-group-addon"><span class="caret"></span></div>
                        </div>
                        <div class="list-group no-padding no-margin" uib-dropdown-menu>
                            <a href="javascript:void(0);"
                               class="list-group-item"
                               key-navigate-directive
                               ng-click="data.maximumCover = item; fn.beforeFilter()"
                               ng-class="{'active': item.key === data.maximumCover.key}"
                               ng-repeat="item in data.maximumCoverList">{{item.value}}</a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="well bg-color-white" style="height: 326px; display: flex; align-items: center; justify-content: center;" ng-show="data.plans.length === 0">No Result</div>
            <div class="well bg-color-white" ng-repeat="item in data.plans">
                <div class="media">
                    <div class="media-left">
                            <img class="media-object" ng-src="/upload/logos/{{item.logo}}" width="120">
                    </div>
                    <div class="media-body">
                        <h4 class="media-heading">{{item.company}}, {{item.planName}}</h4>
                        <div class="row">
                            <hr>
                            <div class="col-xs-12">
                                <strong class="has-tooltip"
                                        tooltip-placement="left"
                                        tooltip-append-to-body="true"
                                        uib-tooltip="Countries in which you are covered whith this health insurance plan.
                                        Check benefits schedule and general conditions for details.">
                                    Area of cover *:
                                </strong>&nbsp;
                                <span class="text-primary">{{item.areaOfCover}}</span>
                            </div>
                            <div class="col-xs-12">
                                <strong class="has-tooltip"
                                        tooltip-placement="left"
                                        tooltip-append-to-body="true"
                                        uib-tooltip="Maximum cover is the maximum amount a health plan will pay in benefits to one insured individual.">
                                    Maximum cover *:
                                </strong>&nbsp;
                                <span class="text-primary">{{item.maximumCover}}</span>
                            </div>
                            <div class="col-xs-12">
                                <strong class="has-tooltip"
                                        tooltip-placement="left"
                                        tooltip-append-to-body="true"
                                        uib-tooltip="An excess is a contribution you are required to pay towards a claim you make on your health insurance policy.
                                        If you voluntarily increase your excess (see filter to the top-right of the page), you annual premium will be cheaper!">
                                    Excess *:
                                </strong>&nbsp;
                                <span class="text-primary">{{item.excess}}</span>
                            </div>
                            <div class="col-xs-12">
                                <strong class="has-tooltip"
                                        tooltip-placement="left"
                                        tooltip-append-to-body="true"
                                        uib-tooltip="Outpatient cover describes medical care or treatment that does not require an overnight stay in a hospital or medical facility.">
                                    Outpatient cover *:
                                </strong>&nbsp;
                                <span class="text-primary">
                                    <i class="glyphicon glyphicon-ok text-success" ng-if="item.outPatientCover.checked"></i>
                                    <i class="glyphicon glyphicon-remove text-danger" ng-if="!item.outPatientCover.checked"></i>
                                    {{item.outPatientCover.text}}
                                </span>
                            </div>
                            <div class="col-xs-12">
                                <strong class="has-tooltip"
                                        tooltip-placement="left"
                                        tooltip-append-to-body="true"
                                        uib-tooltip="Dental insurance is designed to pay a portion of the costs incurred by dental care.">
                                    Dental cover *:
                                </strong>&nbsp;
                                <span class="text-primary">
                                    <i class="glyphicon glyphicon-ok text-success" ng-if="item.dentalCover.checked"></i>
                                    <i class="glyphicon glyphicon-remove text-danger" ng-if="!item.dentalCover.checked"></i>
                                    {{item.dentalCover.text}}
                                </span>
                            </div>
                            <div class="col-xs-12">
                                <strong class="has-tooltip"
                                        tooltip-placement="left"
                                        tooltip-append-to-body="true"
                                        uib-tooltip="Insurance related to pregnancy, labor, delivery, and newborn baby care.">
                                    Maternity cover *:
                                </strong>&nbsp;
                                <span class="text-primary">
                                    <i class="glyphicon glyphicon-ok text-success" ng-if="item.maternityCover.checked"></i>
                                    <i class="glyphicon glyphicon-remove text-danger" ng-if="!item.maternityCover.checked"></i>
                                    {{item.maternityCover.text}}
                                </span>
                            </div>
                            <div class="col-xs-12">
                                <strong class="has-tooltip"
                                        tooltip-placement="left"
                                        tooltip-append-to-body="true"
                                        uib-tooltip="Cover for vision care, such as eye examination, and vision aids, such as glasses or contacts.">
                                    Optical cover *:
                                </strong>&nbsp;
                                <span class="text-primary">
                                    <i class="glyphicon glyphicon-ok text-success" ng-if="item.opticalCover.checked"></i>
                                    <i class="glyphicon glyphicon-remove text-danger" ng-if="!item.opticalCover.checked"></i>
                                    {{item.opticalCover.text}}
                                </span>
                            </div>
                            <div class="col-xs-12">
                                <hr>
                                <strong>
                                    Other highlights *:
                                </strong>&nbsp;
                                <span>{{item.otherHighlights}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="media-right">
                        <div class="ask text-right margin-bottom-10" style="width: 100px;">
                            <div class="text-info" ng-click="fn.redirectTo('/ask-us', item)">
                                <span class="glyphicon glyphicon-info-sign"></span> ASK US
                            </div>
                        </div>
                        <div class="link margin-bottom-5" style="text-align: center">
                            <div ng-repeat="e in item.askUs">
                                <a target="_blank" href="{{e.url}}" class="font-xs text-nowrap">{{e.name}}</a>
                            </div>
                        </div>
                        <div class="margin-bottom-15 text-right">
                            <button class="btn btn-primary" style="width: 100%" ng-click="fn.redirectTo('/buy-now', item)">APPLY NOW</button>
                        </div>
                        <div class="text-right">
                            <h6 class="margin-bottom-0">Estimated monthly cost *</h6>
                            <span class="font-md has-tooltip"
                                  tooltip-placement="right"
                                  tooltip-append-to-body="true"
                                  uib-tooltip="Monthly price based on the estimated annual premium for this plan considering your general profile.
                                    The insurance company is responsible for making the final price and conditions offer at the final stage of the application process.">
                                {{item.totalAnnualPremium}}
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="btn btn-link btn-xs pull-right">
                <i class="glyphicon glyphicon-arrow-up" aria-hidden="true"></i>
                <a ng-click="fn.scrollTop()"> Back to top</a>
            </div>
            <nav class="text-center">
                <ul class="pagination no-margin">
                    <li ng-class="{'active': data.currentPage === $index + 1}" ng-repeat="page in data.totalPage">
                        <a href="javascript:void(0)" ng-click="data.currentPage !== $index + 1 && event.onLoad($index + 1)">{{$index + 1}}</a>
                    </li>
                </ul>
            </nav>
        </div>
    </fieldset>
</div>
