/**
 * Created by kevin on 5/23/15.
 */

export default class StubListener {

    public get: any;
    public post: any;
    public head: any;
    public put: any;
    public delete: any;
    public option: any;
    public use: any;

    constructor() {
        this.get = sinon.stub();
        this.post = sinon.stub();
        this.head = sinon.stub();
        this.put = sinon.stub();
        this.delete = sinon.stub();
        this.option = sinon.stub();
        this.use = sinon.stub();
    }

    public registered(method: any, ...params: any[]) {
        let spy = (<any>this)[method.toLowerCase()];
        if (spy === undefined) {
            throw new Error(method + " HTTP method does not exist nor registered on our StubListener");
        }

        return spy.calledWith(...params);
    }
}
