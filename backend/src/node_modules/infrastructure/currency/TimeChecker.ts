/**
 * Created by jose on 27/09/16.
 */

export class TimeChecker {
    private dateProvider: any;
    private lastChecked: number;
    constructor(dateProvider?: any) {
        this.dateProvider = dateProvider || Date;
        this.lastChecked = this.now() - 3600;
    }

    public now(): number {
        return this.dateProvider.now() / 1000; // in seconds
    }

    public hasPassedOneDay(): boolean {
        return (this.lastChecked + 3600 * 24) < this.now();
    }

    public hasPassedFifteenMinutes(): boolean {
        return (this.lastChecked + 60 * 15) < this.now();
    }

    public updateLastChecked(): void {
        this.lastChecked = this.now();
    }
}
