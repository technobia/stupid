import Configuration from "Configuration";

export default class Paginator {

    private currentPage: number;
    private total: number;
    private limit: number;

    constructor(currentPage = 1, total = 0, limit = Configuration.constant.DEFAULT_LIST_ITEM) {
        this.currentPage = currentPage;
        this.total = total;
        this.limit = limit;
    }

    public toJSON() {
        return {
            page: this.currentPage,
            total: this.total,
            limit: this.limit,
            hasMore: this._hasMore(),
            totalMore: this._totalMore(),
        };
    }

    private _hasMore() {
        return this.currentPage * this.limit < this.total;
    }

    private _totalMore() {
        let totalMore = this.total - (this.currentPage * this.limit);
        return totalMore < 0 ? 0 : ( totalMore > this.limit ? this.limit : totalMore);
    }
}
